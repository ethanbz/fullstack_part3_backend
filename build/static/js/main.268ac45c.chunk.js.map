{"version":3,"sources":["components/PersonForm.js","components/Search.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["PersonForm","props","value","newName","onChange","handleNameChange","newNumber","handleNumChange","type","onClick","addPerson","Search","newSearch","handleSearch","Persons","persons","map","person","name","toLowerCase","includes","key","id","number","remove","baseUrl","axios","get","then","res","data","newObj","post","delete","updatedPerson","put","Notification","msg","className","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","message","setMessage","handleMessage","setTimeout","useEffect","service","info","event","target","preventDefault","personObj","find","window","confirm","returnedPerson","catch","err","concat","response","error","console","log","filter","ReactDOM","render","document","getElementById"],"mappings":"mNAgBeA,EAdI,SAACC,GAChB,OACI,8BACA,sCACQ,2BAAOC,MAAOD,EAAME,QAASC,SAAUH,EAAMI,oBAErD,wCAAa,2BAAOH,MAAOD,EAAMK,UAAWF,SAAUH,EAAMM,mBAC5D,6BACE,4BAAQC,KAAK,SAASC,QAASR,EAAMS,WAArC,UCHKC,EALA,SAACV,GAAD,OACf,uCACW,2BAAOC,MAAOD,EAAMW,UAAWR,SAAUH,EAAMY,iBCW3CC,EAZC,SAACb,GACb,OACIA,EAAMc,QAAQC,KAAI,SAAAC,GACd,OAAIhB,EAAMW,UACJK,EAAOC,KAAKC,cAAcC,SAASnB,EAAMW,WAAmB,yBAAKS,IAAKJ,EAAOK,IAAKL,EAAOC,KAA7B,IAAoCD,EAAOM,OAA3C,IAAmD,4BAAQd,QAASR,EAAMuB,QAAvB,gBAAnH,EAEO,yBAAKH,IAAKJ,EAAOK,IAAKL,EAAOC,KAA7B,IAAoCD,EAAOM,OAA3C,IAAmD,4BAAQd,QAAS,kBAAMR,EAAMuB,OAAOP,EAAOK,GAAIL,EAAOC,QAAtD,e,uBCRlEO,EAAU,eAmBD,EAjBA,WACX,OAAOC,IAAMC,IAAIF,GAASG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAgB/B,EAbH,SAAAC,GACR,OAAOL,IAAMM,KAAKP,EAASM,GAAQH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAYxC,EATA,SAACR,GACZ,OAAOI,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BH,KAQvB,EALA,SAACL,EAAQX,GACpB,IAAM4B,EAAa,2BAAQjB,GAAR,IAAgBM,OAAQjB,IAC3C,OAAOoB,IAAMS,IAAN,UAAaV,EAAb,YAAwBR,EAAOK,IAAMY,GAAeN,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SCXzEM,EAAe,SAAC,GAAa,IAAXC,EAAU,EAAVA,IACtB,OAAY,OAARA,EAAqB,KAGvB,yBAAKC,UAAU,OAAOD,IAoFXE,EAhFH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRzB,EADQ,KACC0B,EADD,OAEgBD,mBAAS,IAFzB,mBAERrC,EAFQ,KAECuC,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRlC,EAHQ,KAGGqC,EAHH,OAIoBH,mBAAS,IAJ7B,mBAIR5B,EAJQ,KAIGgC,EAJH,OAKcJ,mBAAS,MALvB,mBAKTK,EALS,KAKAC,EALA,KAOVC,EAAgB,SAACV,GACrBS,EAAWT,GACXW,YAAW,WACTF,EAAW,QACV,OAGLG,qBAAU,WACRC,IAEGtB,MAAK,SAAAuB,GAAI,OAAIV,EAAWU,QAC1B,IAwCH,OACE,6BACE,yCAEA,kBAAC,EAAD,CAAcd,IAAKQ,IAEnB,kBAAC,EAAD,CAAQjC,UAAWA,EAAWC,aAVb,SAACuC,GACpBR,EAAaQ,EAAMC,OAAOnD,UAWxB,yCAEA,kBAAC,EAAD,CACEC,QAASA,EAASE,iBArBC,SAAC+C,GACxBV,EAAWU,EAAMC,OAAOnD,QAoBkCI,UAAWA,EAAWC,gBAlB1D,SAAC6C,GACvBT,EAAaS,EAAMC,OAAOnD,QAiBwFQ,UAjDlG,SAAC0C,GACjBA,EAAME,iBACN,IAAMC,EAAY,CAChBrC,KAAMf,EACNoB,OAAQjB,GAENS,EAAQyC,MAAK,SAAAvC,GAAM,OAAIA,EAAOC,KAAKC,gBAAkBhB,EAAQgB,iBAC3DsC,OAAOC,QAAP,UAAkBvD,EAAlB,wDACF+C,EAAenC,EAAQyC,MAAK,SAAAvC,GAAM,OAAIA,EAAOC,KAAKC,gBAAkBhB,KAAUG,GAC3EsB,MAAK,SAAA+B,GAAc,OAAIlB,EAAW1B,EAAQC,KAAI,SAAAC,GAAM,OAAIA,EAAOC,OAASf,EAAUc,EAAS0C,SAC3F/B,MAAK,SAAAuB,GAAI,OAAIJ,EAAc,cAAD,OAAe5C,EAAf,yBAA4CyD,OAAM,SAAAC,GAAG,OAAId,EAAc,mBAAD,OAAoB5C,EAApB,iDAEhG+C,EAAYK,GAAW3B,MAAK,SAAAuB,GAAI,OAAIV,EAAW1B,EAAQ+C,OAAOX,OAC5DvB,MAAK,SAAAuB,GAAI,OAAIJ,EAAc,GAAD,OAAI5C,EAAJ,uBAA+ByD,OAAM,SAAAC,GAC9Dd,EAAc,wBAAD,OAAyB5C,EAAzB,iBAAyC0D,EAAIE,SAASjC,KAAKkC,QACxEC,QAAQC,IAAIL,EAAIE,aAE1BrB,EAAW,IACXC,EAAa,OAkCX,uCAEA,kBAAC,EAAD,CAAS5B,QAASA,EAASH,UAAWA,EAAWY,OAjChC,SAACF,EAAIJ,GACpBuC,OAAOC,QAAP,iBAAyBxC,EAAzB,SACFgC,EAAe5B,GAAIM,MAAK,SAAAuB,GAAI,OAAIJ,EAAc,GAAD,OAAI7B,EAAJ,yBAA8B0C,OAAM,SAAAC,GAAG,OAAId,EAAc,GAAD,OAAI7B,EAAJ,iDACrGuB,EAAW1B,EAAQoD,QAAO,SAAAlD,GAAM,OAAIA,EAAOK,KAAOA,Y,MCrDxD8C,IAASC,OACL,kBAAC,EAAD,MACFC,SAASC,eAAe,W","file":"static/js/main.268ac45c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form>\r\n        <div>\r\n          name: <input value={props.newName} onChange={props.handleNameChange} />\r\n        </div>\r\n        <div>number: <input value={props.newNumber} onChange={props.handleNumChange} /></div>\r\n        <div>\r\n          <button type=\"submit\" onClick={props.addPerson}>add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Search = (props) => \r\n<div>\r\n    search <input value={props.newSearch} onChange={props.handleSearch} />\r\n</div>\r\n\r\nexport default Search","import React from 'react'\r\n\r\n\r\nconst Persons = (props) => {\r\n    return (\r\n        props.persons.map(person => {\r\n            if (props.newSearch) {\r\n              if (person.name.toLowerCase().includes(props.newSearch)) return <div key={person.id}>{person.name} {person.number} <button onClick={props.remove}>delete</button></div>\r\n            } else {\r\n              return <div key={person.id}>{person.name} {person.number} <button onClick={() => props.remove(person.id, person.name)}>delete</button></div>\r\n            }\r\n            })\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then(res => res.data)\r\n}\r\n\r\nconst add = newObj => {\r\n    return axios.post(baseUrl, newObj).then(res => res.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (person, newNumber) => {\r\n    const updatedPerson = { ...person, number: newNumber }\r\n    return axios.put(`${baseUrl}/${person.id}`, updatedPerson).then(res => res.data)\r\n}\r\n\r\nexport default { getAll, add, remove, update }","import React, { useState, useEffect } from 'react'\nimport PersonForm from \"./components/PersonForm\"\nimport Search from \"./components/Search\"\nimport Persons from \"./components/Persons\"\nimport service from \"./services/phonebook\"\n\nconst Notification = ({ msg }) => {\n  if (msg === null) return null\n\n  return (\n    <div className='err'>{msg}</div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [message, setMessage] = useState(null)\n\n  const handleMessage = (msg) => {\n    setMessage(msg);\n    setTimeout(() => {\n      setMessage(null);\n    }, 15000)\n  }\n\n  useEffect(() => {\n    service\n      .getAll()\n      .then(info => setPersons(info))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObj = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.find(person => person.name.toLowerCase() === newName.toLowerCase())) {\n      if (window.confirm(`${newName} is already added to phonebook, update the number?`)) {\n        service.update(persons.find(person => person.name.toLowerCase() === newName), newNumber)\n          .then(returnedPerson => setPersons(persons.map(person => person.name !== newName ? person : returnedPerson)))\n          .then(info => handleMessage(`number for ${newName} has been updated`)).catch(err => handleMessage(`Information for ${newName} has already been removed from the server`))\n      }\n    } else service.add(personObj).then(info => setPersons(persons.concat(info)))\n            .then(info => handleMessage(`${newName} has been added`)).catch(err => {\n              handleMessage(`Error: could not add ${newName} ---- ${err.response.data.error}`)\n              console.log(err.response)\n            })\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const removePerson = (id, name) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      service.remove(id).then(info => handleMessage(`${name} has been deleted`)).catch(err => handleMessage(`${name} has already been deleted from the server`))\n      setPersons(persons.filter(person => person.id !== id))\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n  const handleNumChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n  const handleSearch = (event) => {\n    setNewSearch(event.target.value);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification msg={message} />\n      \n      <Search newSearch={newSearch} handleSearch={handleSearch} />\n\n      <h2>New entry</h2>\n\n      <PersonForm \n        newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumChange={handleNumChange} addPerson={addPerson}\n      />\n\n      <h2>Numbers</h2>\n        \n      <Persons persons={persons} newSearch={newSearch} remove={removePerson}/>\n\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}